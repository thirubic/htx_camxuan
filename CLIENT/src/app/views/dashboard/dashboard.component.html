<section id="dashboard" class="extend clearfix">
  <div class="header-div">
    <div class="header-text">
      <h3 style="float: left">
        <a href="/">
          <span class="header-img">
            <img src="../../../../assets/images/logo_ktm.png">
            Quản lý công việc
          </span>
        </a>
      </h3>
    </div>
  </div>
  <!-- tabs -->
  <!-- <div class="pcss3t pcss3t-effect-scale pcss3t-theme-1">
    <input type="radio" name="pcss3t" checked id="tab1" class="tab-content-first">
    <label for="tab1"><i class="icon-bolt"></i>Công việc phát sinh</label>

    <input type="radio" name="pcss3t" id="tab2" class="tab-content-2">
    <label for="tab2"><i class="icon-bookmark-empty"></i>Công việc thường xuyên</label>

    <input type="radio" name="pcss3t" id="tab3" class="tab-content-3">
    <label for="tab3"><i class="icon-cogs"></i>Công việc mục tiêu</label> -->
    <tabset>
      <tab heading="Công việc phát sinh" class="mt-2 tab-dashboard" (selectTab)="onSelect(1)">

    <ul>
      <li class="tab-content tab-content-first">
        <div class='row sum-boxes not-min'>
          <div class='col-md-3'>
            <div class="sum-box info">
              <h2>{{tongso}}</h2>
              <h4>Tổng số</h4>
              <h5><span>Đã giao: {{tongso_dagiao}} - </span><span>Cần thực hiện: {{tongso_duocgiao}}</span></h5>
            </div>
          </div>
          <div class='col-md-3'>
            <div class="sum-box orange">
              <h2>{{quahan}}</h2>
              <h4>Quá hạn </h4>
              <h5><span>Đã giao: {{quahan_dagiao}} - </span><span>Cần thực hiện: {{quahan_duocgiao}}</span></h5>
            </div>
          </div>
          <div class='col-md-3'>
            <div class="sum-box yellow">
              <span class="pull-left text-left"><label class="small-text" tooltip="Đang thực hiện"><span> Đang thực
                    hiện</span></label><label title="Đang thực hiện" class="sum-month">{{dangthuchien}}</label></span>
              <h2>{{chuathuchien}}</h2>
              <h4>Chưa thực hiện</h4>
              <h5><span>Đã giao: {{chuathuchien_dagiao}} - </span><span>Cần thực hiện: {{chuathuchien_duocgiao}}</span>
              </h5>
            </div>
          </div>
          <div class='col-md-3'>
            <div class="sum-box green">
              <h2>{{hoanthanh}}</h2>
              <h4>Hoàn thành</h4>
              <h5><span>Đã giao: {{hoanthanh_dagiao}} - </span><span>Cần thực hiện: {{hoanthanh_duocgiao}}</span></h5>
            </div>
          </div>
        </div>
        <div *ngIf="this.list_quahan.length > 0" class="row">
          <div class="col-md-12">
            <div class="panel panel-default sbox">
              <div class="panel-body card-body text-left pd-0">
                <h4 class="ng-binding color-warning"><strong>Cảnh báo công việc quá hạn</strong>
                </h4>
                <div class="clearfix">
                  <div id="grid-result" class="body">
                    <div class="hr-grid table-responsive">
                      <table class="table table-sm">
                        <thead>
                          <tr>
                            <th class="w200 center">Tên công việc</th>
                            <th class="w35 center">Người giao</th>
                            <th class="w35 center">Ngày giao</th>
                            <th class="w35 center">Người giám sát</th>
                            <th class="w35 center">Ngày bắt đầu</th>
                            <th class="w35 center">Ngày kết thúc</th>
                            <th class="w35 center">Số ngày quá hạn</th>
                            <th class="w35 center">Tiến độ</th>
                            <th class="w35 center"></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let quahan of list_quahan">
                            <td class="font-600">{{ quahan.ten_cv }}</td>
                            <td class="center">{{ quahan.nguoigiao }}</td>
                            <td class="center">{{ quahan.ngay_giao }}</td>
                            <td class="center">{{ quahan.nguoi_giamsat }}</td>
                            <td class="center">{{ quahan.ngay_batdau }}</td>
                            <td class="center">{{ quahan.ngay_ketthuc }}</td>
                            <td class="center">{{ quahan.songay_quahan}}</td>
                            <td class="center">
                              <div class="progress">
                                <div *ngIf="60 > quahan.tile_hoanthanh" class="progress-bar-danger" role="progressbar"
                                  [aria-valuenow]="quahan.tile_hoanthanh" aria-valuemin="0" aria-valuemax="100"
                                  [style]="{ 'width': quahan.tile_hoanthanh+'%'}">
                                  <span class="sr-only">60% Complete</span>
                                </div>
                                <div *ngIf="quahan.tile_hoanthanh > 60" class="progress-bar-warning" role="progressbar"
                                  [aria-valuenow]="quahan.tile_hoanthanh" aria-valuemin="0" aria-valuemax="100"
                                  [style]="{ 'width': quahan.tile_hoanthanh+'%'}">
                                  <span class="sr-only">60% Complete</span>
                                </div>
                                <div *ngIf="quahan.tile_hoanthanh == 100" class="progress-bar-success"
                                  role="progressbar" [aria-valuenow]="quahan.tile_hoanthanh" aria-valuemin="0"
                                  aria-valuemax="100" [style]="{ 'width': quahan.tile_hoanthanh+'%'}">
                                  <span class="sr-only">60% Complete</span>
                                </div>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="panel panel-default sbox">
              <div class="panel-body card-body text-left pd-0">
                <h4 class="ng-binding color-blue"><strong>Biểu đồ trạng thái công việc đã giao</strong>
                </h4>
                <div class="clearfix">
                  <canvas id="congviec_dagiao" width="1200px" height="500"></canvas>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="panel panel-default sbox">
              <div class="panel-body card-body text-left pd-0">
                <h4 class="ng-binding color-blue"><strong>Biểu đồ trạng thái công việc cần thực hiện</strong>
                </h4>
                <div class="clearfix">
                  <canvas id="congviec_duocgiao" width="1200px" height="500"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="this.list_dagiao.length > 0" class="row">
          <div class="col-md-12">
            <div class="panel panel-default sbox">
              <div class="panel-body card-body text-left pd-0">
                <h4 class="ng-binding color-blue"><strong>Danh sách công việc đã giao</strong>
                </h4>
                <div class="clearfix">
                  <div id="grid-result" class="body">
                    <div class="hr-grid table-responsive">
                      <table class="table table-sm">
                        <thead>
                          <tr>
                            <th class="w200 center">Tên công việc</th>
                            <th class="w100 center">Tính chất</th>
                            <th class="w150 center">Đơn vị chủ trì</th>
                            <th class="w35 center">Người chủ trì</th>
                            <th class="w35 center">Người giám sát</th>
                            <th class="w35 center">Ngày bắt đầu</th>
                            <th class="w35 center">Ngày kết thúc</th>
                            <th class="w100 center">Trạng thái</th>
                            <th class="w35 center">Tiến độ</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let dagiao of list_dagiao">
                            <td class="font-600" >{{ dagiao.ten_cv }}</td>
                            <td *ngIf="dagiao.tinh_chat == 1" class="center color-red">
                              <img src="../../../../assets/images/fast.png" style="width: 30px;" alt="" /> Khẩn
                            </td>
                            <td *ngIf="dagiao.tinh_chat == 0" class="center">
                              <img src="../../../../assets/images/normal.jpg" style="width: 20px;" alt="" /> Thường
                            </td>
                            <td>{{ dagiao.donvi_chutri }}</td>
                            <td class="center">{{ dagiao.nguoi_chutri }}</td>
                            <td class="center">{{ dagiao.nguoi_giamsat }}</td>
                            <td class="center">{{ dagiao.ngay_batdau }}</td>
                            <td class="center">{{ dagiao.ngay_ketthuc }}</td>
                            <td *ngIf="dagiao.trangthai == 3"><span class="bold center bg_red pd-5">{{
                                dagiao.ten_trangthai}}</span></td>
                            <td *ngIf="dagiao.trangthai == 2"><span class="bold center bg_green pd-5">{{
                                dagiao.ten_trangthai}}</span></td>
                            <td *ngIf="dagiao.trangthai == 1"><span class="bold center pd-5">{{
                                dagiao.ten_trangthai}}</span></td>
                            <td *ngIf="dagiao.trangthai == 0"><span class="bold center bg_warning pd-5">{{
                                dagiao.ten_trangthai}}</span></td>

                            <td class="center">
                              <div class="progress">
                                <div *ngIf="60 > dagiao.tile_hoanthanh" class="progress-bar-danger" role="progressbar"
                                  [aria-valuenow]="dagiao.tile_hoanthanh" aria-valuemin="0" aria-valuemax="100"
                                  [style]="{ 'width': dagiao.tile_hoanthanh+'%'}">
                                  <span class="sr-only">{{dagiao.tile_hoanthanh}}% hoàn thành</span>
                                </div>
                                <div *ngIf="dagiao.tile_hoanthanh > 60" class="progress-bar-warning" role="progressbar"
                                  [aria-valuenow]="dagiao.tile_hoanthanh" aria-valuemin="0" aria-valuemax="100"
                                  [style]="{ 'width': dagiao.tile_hoanthanh+'%'}">
                                  <span class="sr-only">{{dagiao.tile_hoanthanh}}% hoàn thành</span>
                                </div>
                                <div *ngIf="dagiao.tile_hoanthanh == 100" class="progress-bar-success"
                                  role="progressbar" [aria-valuenow]="dagiao.tile_hoanthanh" aria-valuemin="0"
                                  aria-valuemax="100" [style]="{ 'width': dagiao.tile_hoanthanh+'%'}">
                                  <span class="sr-only">{{dagiao.tile_hoanthanh}}% hoàn thành</span>
                                </div>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
        <div *ngIf="this.list_duocgiao.length > 0" class="row">
          <div class="col-md-12">
            <div class="panel panel-default sbox">
              <div class="panel-body card-body text-left pd-0">
                <h4 class="ng-binding color-blue"><strong>Danh sách công việc cần thực hiện</strong>
                </h4>
                <div class="clearfix">
                  <div id="grid-result" class="body">
                    <div class="hr-grid table-responsive">
                      <table class="table table-striped">
                        <thead>
                          <tr>
                            <th class="w200 center">Tên công việc</th>
                            <th class="w35 center">Tính chất</th>
                            <th class="w35 center">Người giao</th>
                            <th class="w35 center">Người giám sát</th>
                            <th class="w35 center">Ngày bắt đầu</th>
                            <th class="w35 center">Ngày kết thúc</th>
                            <th class="w100 center">Trạng thái</th>
                            <th class="w35 center">Số ngày còn lại</th>
                            <th class="w35 center">Tiến độ</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let duocgiao of list_duocgiao">
                            <td class="font-600">{{ duocgiao.ten_cv }}</td>
                            <td *ngIf="duocgiao.tinh_chat == 1" class="center color-red">
                              <img src="../../../../assets/images/fast.png" style="width: 28px;" alt="" /> Khẩn
                            </td>
                            <td *ngIf="duocgiao.tinh_chat == 0" class="center">
                              <img src="../../../../assets/images/normal.jpg" style="width: 20px;" alt="" /> Thường
                            </td>
                            <td>{{ duocgiao.nguoigiao }}</td>
                            <td class="center">{{ duocgiao.nguoi_giamsat }}</td>
                            <td class="center">{{ duocgiao.ngay_batdau }}</td>
                            <td class="center">{{ duocgiao.ngay_ketthuc }}</td>
                            <td *ngIf="duocgiao.trangthai == 3"><span class="bold center bg_red pd-5">{{
                                duocgiao.ten_trangthai}}</span></td>
                            <td *ngIf="duocgiao.trangthai == 2"><span class="bold center bg_green pd-5 ">{{
                                duocgiao.ten_trangthai}}</span></td>
                            <td *ngIf="duocgiao.trangthai == 1"><span class="bold center pd-5">{{
                                duocgiao.ten_trangthai}}</span></td>
                            <td *ngIf="duocgiao.trangthai == 0"><span class="bold center bg_warning pd-5"> {{
                                duocgiao.ten_trangthai}}</span></td>
                            <td class="center">{{ duocgiao.songay_conlai }}</td>
                            <td class="center">
                              <div class="progress">
                                <div *ngIf="60 > duocgiao.tile_hoanthanh" class="progress-bar-danger" role="progressbar"
                                  [aria-valuenow]="duocgiao.tile_hoanthanh" aria-valuemin="0" aria-valuemax="100"
                                  [style]="{ 'width': duocgiao.tile_hoanthanh+'%'}">
                                  <span class="sr-only">{{duocgiao.tile_hoanthanh}}% hoàn thành</span>
                                </div>
                                <div *ngIf="duocgiao.tile_hoanthanh >= 60" class="progress-bar-warning"
                                  role="progressbar" [aria-valuenow]="duocgiao.tile_hoanthanh" aria-valuemin="0"
                                  aria-valuemax="100" [style]="{ 'width': duocgiao.tile_hoanthanh+'%'}">
                                  <span class="sr-only">{{duocgiao.tile_hoanthanh}}% hoàn thành</span>
                                </div>
                                <div *ngIf="duocgiao.tile_hoanthanh == 100" class="progress-bar-success"
                                  role="progressbar" [aria-valuenow]="duocgiao.tile_hoanthanh" aria-valuemin="0"
                                  aria-valuemax="100" [style]="{ 'width': duocgiao.tile_hoanthanh+'%'}">
                                  <span class="sr-only">{{duocgiao.tile_hoanthanh}}% hoàn thành</span>
                                </div>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </li>
    </ul>
      </tab>
      <tab heading="Công việc thường xuyên" class="mt-2" (selectTab)="onSelect(2)">
        <div id="grid-result" class="body">
        </div>
      </tab>
    </tabset>
  <!-- </div> -->
  <!--/ tabs -->

</section>